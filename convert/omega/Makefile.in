all: omega

omega: omega.o p6hgame.o lex.p6h.o p6h.tab.o lex.p6hl.o p6hl.tab.o t5xgame.o lex.t5x.o t5x.tab.o lex.t5xl.o t5xl.tab.o
	$(CXX) -g -o omega omega.o p6hgame.o lex.p6h.o p6h.tab.o lex.p6hl.o p6hl.tab.o t5xgame.o lex.t5x.o t5x.tab.o lex.t5xl.o t5xl.tab.o

omega.o: omega.cpp omega.h p6hgame.h t5xgame.h
	$(CXX) -g -c omega.cpp

p6hgame.o: p6hgame.cpp omega.h p6hgame.h t5xgame.h
	$(CXX) -g -c p6hgame.cpp

lex.p6h.cpp: p6h.ll
	$(LEX) -8 -olex.p6h.cpp p6h.ll

p6h.tab.cpp p6h.tab.hpp: p6h.ypp
	bison -d p6h.ypp

p6h.tab.o: p6h.tab.hpp p6h.tab.cpp p6hgame.h
	$(CXX) -g -c p6h.tab.cpp

lex.p6h.o: lex.p6h.cpp p6h.tab.hpp p6hgame.h
	$(CXX) -g -c lex.p6h.cpp

lex.p6hl.cpp: p6hl.ll
	$(LEX) -8 -olex.p6hl.cpp p6hl.ll

p6hl.tab.cpp p6hl.tab.hpp: p6hl.ypp
	bison -d p6hl.ypp

p6hl.tab.o: p6hl.tab.hpp p6hl.tab.cpp p6hgame.h
	$(CXX) -g -c p6hl.tab.cpp

lex.p6hl.o: lex.p6hl.cpp p6hl.tab.hpp p6hgame.h
	$(CXX) -g -c lex.p6hl.cpp

t5xgame.o: t5xgame.cpp omega.h t5xgame.h
	$(CXX) -g -c t5xgame.cpp

lex.t5x.cpp: t5x.ll
	$(LEX) -8 -olex.t5x.cpp t5x.ll

t5x.tab.cpp t5x.tab.hpp: t5x.ypp
	bison -d t5x.ypp

t5x.tab.o: t5x.tab.hpp t5x.tab.cpp t5xgame.h
	$(CXX) -g -c t5x.tab.cpp

lex.t5x.o: lex.t5x.cpp t5x.tab.hpp t5xgame.h
	$(CXX) -g -c lex.t5x.cpp

lex.t5xl.cpp: t5xl.ll
	$(LEX) -8 -olex.t5xl.cpp t5xl.ll

t5xl.tab.cpp t5xl.tab.hpp: t5xl.ypp
	bison -d t5xl.ypp

t5xl.tab.o: t5xl.tab.hpp t5xl.tab.cpp t5xgame.h
	$(CXX) -g -c t5xl.tab.cpp

lex.t5xl.o: lex.t5xl.cpp t5xl.tab.hpp t5xgame.h
	$(CXX) -g -c lex.t5xl.cpp

clean:
	-rm -f *.o lex.p6h.cpp p6h.tab.cpp p6h.tab.hpp lex.t5x.cpp t5x.tab.cpp t5x.tab.hpp location.hh position.hh stack.hh
